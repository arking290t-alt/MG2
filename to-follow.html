<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>To Follow Clients</title>
<style>
body{
  background:#0b111b;
  font-family:Poppins,sans-serif;
  color:#e5eaf0;
}
.container{
  max-width:1100px;
  margin:60px auto;
  background:rgba(255,255,255,0.06);
  padding:30px;
  border-radius:20px;
}
h1{color:#00b4ff}
input{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:none;
  background:#1b2430;
  color:#fff;
}
.grid{
  display:grid;
  grid-template-columns:repeat(5,1fr);
  gap:15px;
}
button{
  padding:10px 16px;
  border-radius:8px;
  border:none;
  cursor:pointer;
  font-weight:600;
}
.btn-save{background:#00b4ff;color:#000;margin-top:15px}
.btn-view{background:#444;color:#fff}
.btn-done{background:#22c55e;color:#000}
.btn-not{background:#ef4444;color:#000}
.client{
  background:rgba(255,255,255,0.05);
  padding:15px;
  border-radius:12px;
  margin-top:12px;
}
.actions{
  display:flex;
  gap:10px;
  margin-top:10px;
}
</style>
</head>
<body>

<div class="container">
<h1>To Follow Clients</h1>

<div class="grid">
<input id="company" placeholder="Company Name">
<input id="name" placeholder="Client Name">
<input id="phone" placeholder="Phone">
<input id="type" placeholder="Job Type">
<input id="date" type="date">
</div>

<button class="btn-save" onclick="saveClient()">Save Client</button>

<div id="list"></div>
</div>

<script>
const KEY="clients";

function getData(){
  return JSON.parse(localStorage.getItem(KEY))||[];
}
function setData(d){
  localStorage.setItem(KEY,JSON.stringify(d));
}

function saveClient(){
  const company=companyInput.value.trim();
  const name=nameInput.value.trim();
  const date=dateInput.value;

  if(!company||!name||!date){
    alert("Enter required details");
    return;
  }

  const data=getData();
  data.push({
    id:Date.now(),
    company,
    name,
    phone:phone.value,
    type:type.value,
    date,
    status:"follow",
    remark:""
  });
  setData(data);
  clearInputs();
  render();
}

function clearInputs(){
  document.querySelectorAll("input").forEach(i=>i.value="");
}

function mark(id,status){
  const data=getData();
  const c=data.find(x=>x.id===id);
  if(status==="not-completed"){
    const r=prompt("Enter remark");
    if(!r) return;
    c.remark=r;
  }
  c.status=status;
  setData(data);
  render();
}

function render(){
  const box=document.getElementById("list");
  const data=getData().filter(c=>c.status==="follow");
  box.innerHTML=data.length?data.map(c=>`
    <div class="client">
      <b>${c.company}</b> â€” ${c.name}<br>
      ${c.type} | ${c.phone} | ${c.date}
      <div class="actions">
        <button class="btn-view" onclick='alert(JSON.stringify(${JSON.stringify(c)},null,2))'>View</button>
        <button class="btn-done" onclick="mark(${c.id},'completed')">Completed</button>
        <button class="btn-not" onclick="mark(${c.id},'not-completed')">Not Completed</button>
      </div>
    </div>
  `).join(""):"<p>No clients</p>";
}

render();
</script>

</body>
</html>
