<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>To Follow Clients</title>
<style>
body { background:#0b111b; color:#fff; font-family:Poppins,sans-serif; }
.container { max-width:1100px; margin:40px auto; background:#111827; padding:25px; border-radius:16px; }
h1 { color:#00b4ff; }
input { padding:10px; border-radius:8px; border:none; background:#1f2937; color:#fff; width:100%; }
.grid { display:grid; grid-template-columns:repeat(5,1fr); gap:10px; }
button { padding:8px 14px; border:none; border-radius:6px; cursor:pointer; }
.blue{background:#0ea5e9;color:#000;}
.green{background:#22c55e;}
.red{background:#ef4444;}
.gray{background:#6b7280;}
.row{display:grid;grid-template-columns:repeat(6,1fr);gap:10px;align-items:center;
background:#1f2937;padding:10px;border-radius:10px;margin-top:10px;}
</style>
</head>

<body>
<div class="container">
<h1>To Follow Clients</h1>

<div class="grid">
  <input id="company" placeholder="Company Name">
  <input id="name" placeholder="Client Name">
  <input id="phone" placeholder="Phone">
  <input id="type" placeholder="Job Type">
  <input id="date" placeholder="Date (DD/MM/YYYY)">
</div>

<br>
<button class="blue" onclick="saveClient()">Save Client</button>

<div id="list"></div>
</div>

<script>
function saveClient(){
  const company = companyEl.value.trim();
  const name = nameEl.value.trim();
  const type = typeEl.value.trim();
  const date = dateEl.value.trim();

  if(!company || !name || !type || !date){
    alert("Enter required details");
    return;
  }

  const client = {
    company,
    name,
    phone: phoneEl.value.trim(),
    type,
    date
  };

  const arr = JSON.parse(localStorage.getItem("toFollowClients")) || [];
  arr.push(client);
  localStorage.setItem("toFollowClients", JSON.stringify(arr));
  clearForm();
  render();
}

function markCompleted(i){
  let f = JSON.parse(localStorage.getItem("toFollowClients"))||[];
  let c = JSON.parse(localStorage.getItem("completedClients"))||[];
  c.push(f[i]);
  f.splice(i,1);
  localStorage.setItem("toFollowClients",JSON.stringify(f));
  localStorage.setItem("completedClients",JSON.stringify(c));
  render();
}

function markNotCompleted(i){
  const remark = prompt("Enter remark");
  if(!remark) return;
  let f = JSON.parse(localStorage.getItem("toFollowClients"))||[];
  let n = JSON.parse(localStorage.getItem("notCompletedClients"))||[];
  f[i].remark = remark;
  n.push(f[i]);
  f.splice(i,1);
  localStorage.setItem("toFollowClients",JSON.stringify(f));
  localStorage.setItem("notCompletedClients",JSON.stringify(n));
  render();
}

function del(i){
  let f = JSON.parse(localStorage.getItem("toFollowClients"))||[];
  if(confirm("Delete client?")){
    f.splice(i,1);
    localStorage.setItem("toFollowClients",JSON.stringify(f));
    render();
  }
}

function render(){
  const list = document.getElementById("list");
  const f = JSON.parse(localStorage.getItem("toFollowClients"))||[];
  list.innerHTML = "";
  if(f.length===0){ list.innerHTML="<p>No clients</p>"; return; }

  f.forEach((c,i)=>{
    list.innerHTML += `
      <div class="row">
        <div>${c.company}</div>
        <div>${c.name}</div>
        <div>${c.phone||"-"}</div>
        <div>${c.type}</div>
        <div>${c.date}</div>
        <div>
          <button class="green" onclick="markCompleted(${i})">Completed</button>
          <button class="red" onclick="markNotCompleted(${i})">Not</button>
          <button class="gray" onclick="del(${i})">Delete</button>
        </div>
      </div>`;
  });
}

function clearForm(){
  companyEl.value=nameEl.value=phoneEl.value=typeEl.value=dateEl.value="";
}

const companyEl=document.getElementById("company");
const nameEl=document.getElementById("name");
const phoneEl=document.getElementById("phone");
const typeEl=document.getElementById("type");
const dateEl=document.getElementById("date");

render();
</script>
</body>
</html>
