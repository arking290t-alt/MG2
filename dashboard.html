<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MG Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  background:#0b111b;
  font-family:Poppins,sans-serif;
  color:white;
}

/* AI BUTTON */
#aiBtn{
  position:fixed;
  bottom:20px;
  right:20px;
  width:60px;
  height:60px;
  border-radius:50%;
  background:#00b4ff;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:26px;
  cursor:pointer;
  box-shadow:0 0 20px rgba(0,180,255,0.6);
  z-index:9999;
}

/* AI CHAT BOX */
#aiBox{
  position:fixed;
  bottom:90px;
  right:20px;
  width:340px;
  height:420px;
  background:#0f1724;
  border-radius:14px;
  display:none;
  flex-direction:column;
  box-shadow:0 0 30px rgba(0,180,255,0.5);
  z-index:9999;
}

#aiHeader{
  background:#00b4ff;
  color:#000;
  padding:12px;
  font-weight:700;
  text-align:center;
  border-radius:14px 14px 0 0;
}

#aiChat{
  flex:1;
  padding:10px;
  overflow-y:auto;
  font-size:14px;
}

.msg-user{
  margin-bottom:8px;
}
.msg-ai{
  margin-bottom:8px;
  color:#00b4ff;
}

#aiInput{
  border:none;
  padding:12px;
  outline:none;
  background:#0b111b;
  color:white;
  border-radius:0 0 14px 14px;
}
</style>
</head>

<body>

<h1 style="padding:20px;color:#00b4ff;">MG Dashboard</h1>

<!-- AI BUTTON -->
<div id="aiBtn">ðŸ¤–</div>

<!-- AI BOX -->
<div id="aiBox">
  <div id="aiHeader">MG AI Assistant</div>
  <div id="aiChat"></div>
  <input id="aiInput" placeholder="Ask something and press Enter..." />
</div>

<script>
const aiBtn = document.getElementById("aiBtn");
const aiBox = document.getElementById("aiBox");
const aiInput = document.getElementById("aiInput");
const aiChat = document.getElementById("aiChat");

/* TOGGLE */
aiBtn.onclick = () => {
  aiBox.style.display = aiBox.style.display === "flex" ? "none" : "flex";
};

/* SEND MESSAGE */
aiInput.addEventListener("keydown", async (e) => {
  if (e.key !== "Enter") return;

  const text = aiInput.value.trim();
  if (!text) return;

  aiChat.innerHTML += `<div class="msg-user"><b>You:</b> ${text}</div>`;
  aiInput.value = "";
  aiChat.scrollTop = aiChat.scrollHeight;

  const res = await fetch(
    "https://YOUR-WORKER-NAME.workers.dev",
    {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ message: text })
    }
  );

  const data = await res.json();

  aiChat.innerHTML += `<div class="msg-ai"><b>AI:</b> ${data.reply}</div>`;
  aiChat.scrollTop = aiChat.scrollHeight;
});
</script>

</body>
</html>
